<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Login Admin</title>
    <link rel="icon" href="papudimlogo.png" />
    <link
      href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      body {
        font-family: "Quicksand", sans-serif;
        background-color: #fdfaf6;
      }
    </style>
  </head>
  <body class="flex flex-col items-center justify-center min-h-screen px-4">
    <div class="bg-white p-8 rounded-2xl shadow-md max-w-sm w-full text-center">
      <img
        src="papudimlogo.png"
        alt="Logo"
        class="w-16 h-16 mx-auto mb-4 rounded-full"
      />
      <h1 class="text-2xl font-bold text-[#a47551] mb-6">
        Login do Administrador
      </h1>
      <input
        type="password"
        id="senha"
        placeholder="Digite a senha"
        class="w-full border border-gray-300 rounded px-4 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-[#a47551] transition"
      />
      <button
        onclick="logar()"
        class="w-full bg-[#a47551] hover:bg-[#916546] text-white px-6 py-2 rounded-xl font-semibold transition"
      >
        Entrar
      </button>
    </div>
    <footer class="mt-10 text-sm text-gray-500">&copy; 2025 Papudim</footer>
    <script>
      async function logar() {
        const senha = document.getElementById("senha").value.trim();

        const res = await fetch(
          "https://homepudimback.onrender.com/api/login",
          {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ senha }),
          }
        );

        if (res.ok) {
          const data = await res.json();
          localStorage.setItem("adminToken", data.token);
          window.location.href = "/admin.html";
        } else {
          alert("‚ùå Senha incorreta!");
        }
      }
    </script>
  </body>
</html>
